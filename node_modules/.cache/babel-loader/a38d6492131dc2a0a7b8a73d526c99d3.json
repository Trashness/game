{"ast":null,"code":"export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n  if (provider && chainId !== undefined && isActive) {\n    var update = function update(blockNumber) {\n      return dispatch({\n        chainId: chainId,\n        blockNumber: blockNumber\n      });\n    };\n    provider.on('block', update);\n    provider.getBlockNumber().then(function (blockNumber) {\n      return update(blockNumber);\n    }, function (err) {\n      console.error(err);\n    });\n    return function () {\n      provider.off('block', update);\n    };\n  }\n  return function () {\n    return undefined;\n  };\n}","map":{"version":3,"sources":["../../../../../../src/providers/blockNumber/common/subscribeToNewBlock.ts"],"names":[],"mappings":"AAKA,OAAM,SAAU,mBAAmB,CACjC,QAA4C,EAC5C,OAA4B,EAC5B,QAAsC,EACtC,QAAiB,EAAA;EAEjB,IAAI,QAAQ,IAAI,OAAO,KAAK,SAAS,IAAI,QAAQ,EAAE;IACjD,IAAM,MAAM,GAAG,SAAT,MAAM,CAAI,WAAmB;MAAA,OAAK,QAAQ,CAAC;QAAE,OAAO,EAAP,OAAO;QAAE,WAAW,EAAX;MAAW,CAAE,CAAC;IAAA;IAC1E,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC;IAE5B,QAAQ,CAAC,cAAc,EAAE,CAAC,IAAI,CAC5B,UAAC,WAAW;MAAA,OAAK,MAAM,CAAC,WAAW,CAAC;IAAA,GACpC,UAAC,GAAG,EAAI;MACN,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;IACpB,CAAC,CACF;IAED,OAAO,YAAK;MACV,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;IAC/B,CAAC;EACF;EAED,OAAO;IAAA,OAAM,SAAS;EAAA;AACxB","sourceRoot":"","sourcesContent":["export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n    if (provider && chainId !== undefined && isActive) {\n        const update = (blockNumber) => dispatch({ chainId, blockNumber });\n        provider.on('block', update);\n        provider.getBlockNumber().then((blockNumber) => update(blockNumber), (err) => {\n            console.error(err);\n        });\n        return () => {\n            provider.off('block', update);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=subscribeToNewBlock.js.map"]},"metadata":{},"sourceType":"module"}