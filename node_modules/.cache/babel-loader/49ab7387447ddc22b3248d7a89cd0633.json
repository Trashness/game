{"ast":null,"code":"import _slicedToArray from \"C:/Users/Kompa/Desktop/games/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useReducer } from 'react';\nimport { useEthers } from '../../hooks';\nimport { NotificationsContext } from './context';\nimport { DEFAULT_NOTIFICATIONS } from './model';\nimport { notificationReducer } from './reducer';\nimport { useIsMounted } from '../../hooks/useIsMounted';\nimport { nanoid } from 'nanoid';\nexport function NotificationsProvider(_ref) {\n  var children = _ref.children;\n  var _useReducer = useReducer(notificationReducer, DEFAULT_NOTIFICATIONS),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    notifications = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var isMounted = useIsMounted();\n  var _useEthers = useEthers(),\n    chainId = _useEthers.chainId,\n    account = _useEthers.account;\n  useEffect(function () {\n    if (account && chainId) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        chainId: chainId,\n        notification: {\n          type: 'walletConnected',\n          id: nanoid(),\n          submittedAt: Date.now(),\n          address: account\n        }\n      });\n    }\n  }, [account, chainId]);\n  var addNotification = useCallback(function (_ref2) {\n    var notification = _ref2.notification,\n      chainId = _ref2.chainId;\n    if (isMounted()) {\n      dispatch({\n        type: 'ADD_NOTIFICATION',\n        chainId: chainId,\n        notification: Object.assign(Object.assign({}, notification), {\n          id: nanoid()\n        })\n      });\n    }\n  }, [dispatch]);\n  var removeNotification = useCallback(function (_ref3) {\n    var notificationId = _ref3.notificationId,\n      chainId = _ref3.chainId;\n    if (isMounted()) {\n      dispatch({\n        type: 'REMOVE_NOTIFICATION',\n        chainId: chainId,\n        notificationId: notificationId\n      });\n    }\n  }, [dispatch]);\n  return _jsx(NotificationsContext.Provider, {\n    value: {\n      addNotification: addNotification,\n      notifications: notifications,\n      removeNotification: removeNotification\n    },\n    children: children\n  });\n}","map":{"version":3,"sources":["../../../../../src/providers/notifications/provider.tsx"],"names":[],"mappings":";;AAAA,SAAoB,WAAW,EAAE,SAAS,EAAE,UAAU,QAAQ,OAAO;AACrE,SAAS,SAAS,QAAQ,aAAa;AACvC,SAAS,oBAAoB,QAAQ,WAAW;AAChD,SAAiC,qBAAqB,QAAmC,SAAS;AAClG,SAAS,mBAAmB,QAAQ,WAAW;AAC/C,SAAS,YAAY,QAAQ,0BAA0B;AACvD,SAAS,MAAM,QAAQ,QAAQ;AAM/B,OAAM,SAAU,qBAAqB,CAAA,IAAA,EAAoB;EAAA,IAAjB,QAAQ,GAAA,IAAA,CAAR,QAAQ;EAC9C,IAAA,WAAA,GAAkC,UAAU,CAAC,mBAAmB,EAAE,qBAAqB,CAAC;IAAA,YAAA,GAAA,cAAA,CAAA,WAAA;IAAjF,aAAa,GAAA,YAAA;IAAE,QAAQ,GAAA,YAAA;EAC9B,IAAM,SAAS,GAAG,YAAY,EAAE;EAChC,IAAA,UAAA,GAA6B,SAAS,EAAE;IAAhC,OAAO,GAAA,UAAA,CAAP,OAAO;IAAE,OAAO,GAAA,UAAA,CAAP,OAAO;EAExB,SAAS,CAAC,YAAK;IACb,IAAI,OAAO,IAAI,OAAO,EAAE;MACtB,QAAQ,CAAC;QACP,IAAI,EAAE,kBAAkB;QACxB,OAAO,EAAE,OAAO;QAChB,YAAY,EAAE;UACZ,IAAI,EAAE,iBAAiB;UACvB,EAAE,EAAE,MAAM,EAAE;UACZ,WAAW,EAAE,IAAI,CAAC,GAAG,EAAE;UACvB,OAAO,EAAE;QACV;OACF,CAAC;IACH;EACH,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EAEtB,IAAM,eAAe,GAAG,WAAW,CACjC,UAAA,KAAA,EAAsD;IAAA,IAAnD,YAAY,GAAA,KAAA,CAAZ,YAAY;MAAE,OAAO,GAAA,KAAA,CAAP,OAAO;IACtB,IAAI,SAAS,EAAE,EAAE;MACf,QAAQ,CAAC;QACP,IAAI,EAAE,kBAAkB;QACxB,OAAO,EAAP,OAAO;QACP,YAAY,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,EAAO,YAAY,CAAA,EAAA;UAAE,EAAE,EAAE,MAAM;QAAE,CAAA;OAC9C,CAAC;IACH;EACH,CAAC,EACD,CAAC,QAAQ,CAAC,CACX;EAED,IAAM,kBAAkB,GAAG,WAAW,CACpC,UAAA,KAAA,EAA2D;IAAA,IAAxD,cAAc,GAAA,KAAA,CAAd,cAAc;MAAE,OAAO,GAAA,KAAA,CAAP,OAAO;IACxB,IAAI,SAAS,EAAE,EAAE;MACf,QAAQ,CAAC;QACP,IAAI,EAAE,qBAAqB;QAC3B,OAAO,EAAP,OAAO;QACP,cAAc,EAAd;OACD,CAAC;IACH;EACH,CAAC,EACD,CAAC,QAAQ,CAAC,CACX;EAED,OACE,IAAA,CAAC,oBAAoB,CAAC,QAAQ,EAAA;IAAC,KAAK,EAAE;MAAE,eAAe,EAAf,eAAe;MAAE,aAAa,EAAb,aAAa;MAAE,kBAAkB,EAAlB;IAAkB,CAAE;IAAE,QAAQ,EAAE;EAAQ,CAAA,CAAI;AAExH","sourceRoot":"","sourcesContent":["import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback, useEffect, useReducer } from 'react';\nimport { useEthers } from '../../hooks';\nimport { NotificationsContext } from './context';\nimport { DEFAULT_NOTIFICATIONS } from './model';\nimport { notificationReducer } from './reducer';\nimport { useIsMounted } from '../../hooks/useIsMounted';\nimport { nanoid } from 'nanoid';\nexport function NotificationsProvider({ children }) {\n    const [notifications, dispatch] = useReducer(notificationReducer, DEFAULT_NOTIFICATIONS);\n    const isMounted = useIsMounted();\n    const { chainId, account } = useEthers();\n    useEffect(() => {\n        if (account && chainId) {\n            dispatch({\n                type: 'ADD_NOTIFICATION',\n                chainId: chainId,\n                notification: {\n                    type: 'walletConnected',\n                    id: nanoid(),\n                    submittedAt: Date.now(),\n                    address: account,\n                },\n            });\n        }\n    }, [account, chainId]);\n    const addNotification = useCallback(({ notification, chainId }) => {\n        if (isMounted()) {\n            dispatch({\n                type: 'ADD_NOTIFICATION',\n                chainId,\n                notification: Object.assign(Object.assign({}, notification), { id: nanoid() }),\n            });\n        }\n    }, [dispatch]);\n    const removeNotification = useCallback(({ notificationId, chainId }) => {\n        if (isMounted()) {\n            dispatch({\n                type: 'REMOVE_NOTIFICATION',\n                chainId,\n                notificationId,\n            });\n        }\n    }, [dispatch]);\n    return (_jsx(NotificationsContext.Provider, { value: { addNotification, notifications, removeNotification }, children: children }));\n}\n//# sourceMappingURL=provider.js.map"]},"metadata":{},"sourceType":"module"}