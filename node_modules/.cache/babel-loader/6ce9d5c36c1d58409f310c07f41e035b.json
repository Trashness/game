{"ast":null,"code":"import _classCallCheck from \"C:/Users/Kompa/Desktop/games/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Kompa/Desktop/games/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar Subscribable = /*#__PURE__*/function () {\n  function Subscribable() {\n    _classCallCheck(this, Subscribable);\n    this.listeners = [];\n    this.subscribe = this.subscribe.bind(this);\n  }\n  _createClass(Subscribable, [{\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this = this;\n      this.listeners.push(listener);\n      this.onSubscribe();\n      return function () {\n        _this.listeners = _this.listeners.filter(function (x) {\n          return x !== listener;\n        });\n        _this.onUnsubscribe();\n      };\n    }\n  }, {\n    key: \"hasListeners\",\n    value: function hasListeners() {\n      return this.listeners.length > 0;\n    }\n  }, {\n    key: \"onSubscribe\",\n    value: function onSubscribe() {// Do nothing\n    }\n  }, {\n    key: \"onUnsubscribe\",\n    value: function onUnsubscribe() {// Do nothing\n    }\n  }]);\n  return Subscribable;\n}();\nexport { Subscribable };","map":{"version":3,"sources":["../../src/subscribable.ts"],"names":["Subscribable","constructor","listeners","subscribe","bind","listener","push","onSubscribe","filter","x","onUnsubscribe","hasListeners","length"],"mappings":";;IAEaA,YAAN;EAGLC,SAAAA,aAAAA,EAAc;IAAA,eAAA,OAAA,YAAA;IACZ,IAAKC,CAAAA,SAAL,GAAiB,EAAjB;IACA,IAAKC,CAAAA,SAAL,GAAiB,IAAKA,CAAAA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;EACD;EAAA,YAAA,CAAA,YAAA;IAAA,GAAA;IAAA,KAAA,EAEDD,SAAAA,UAAUE,QAAD,EAAkC;MAAA,IAAA,KAAA;MACzC,IAAA,CAAKH,SAAL,CAAeI,IAAf,CAAoBD,QAApB,CAAA;MAEA,IAAA,CAAKE,WAAL,EAAA;MAEA,OAAO,YAAM;QACX,KAAA,CAAKL,SAAL,GAAiB,KAAKA,CAAAA,SAAL,CAAeM,MAAf,CAAuBC,UAAAA,CAAD;UAAA,OAAOA,CAAC,KAAKJ,QAAnC;QAAA,EAAjB;QACA,KAAA,CAAKK,aAAL,EAAA;OAFF;IAID;EAAA;IAAA,GAAA;IAAA,KAAA,EAEDC,SAAAA,aAAAA,EAAwB;MACtB,OAAO,IAAKT,CAAAA,SAAL,CAAeU,MAAf,GAAwB,CAA/B;IACD;EAAA;IAAA,GAAA;IAAA,KAAA,EAESL,SAAAA,YAAAA,EAAoB,CAAA;IAAA;EAE7B;IAAA,GAAA;IAAA,KAAA,EAESG,SAAAA,cAAAA,EAAsB,CAAA;IAAA;EAE/B;EAAA,OAAA,YAAA;AAAA","sourcesContent":["type Listener = () => void\n\nexport class Subscribable<TListener extends Function = Listener> {\n  protected listeners: TListener[]\n\n  constructor() {\n    this.listeners = []\n    this.subscribe = this.subscribe.bind(this)\n  }\n\n  subscribe(listener: TListener): () => void {\n    this.listeners.push(listener as TListener)\n\n    this.onSubscribe()\n\n    return () => {\n      this.listeners = this.listeners.filter((x) => x !== listener)\n      this.onUnsubscribe()\n    }\n  }\n\n  hasListeners(): boolean {\n    return this.listeners.length > 0\n  }\n\n  protected onSubscribe(): void {\n    // Do nothing\n  }\n\n  protected onUnsubscribe(): void {\n    // Do nothing\n  }\n}\n"]},"metadata":{},"sourceType":"module"}