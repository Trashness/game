{"ast":null,"code":"import { MOBILE_LINK_CHOICE_KEY } from \"@walletconnect/legacy-types\";\nimport { setLocal } from \"./local\";\nexport function formatIOSMobile(uri, entry) {\n  var encodedUri = encodeURIComponent(uri);\n  return entry.universalLink ? \"\".concat(entry.universalLink, \"/wc?uri=\").concat(encodedUri) : entry.deepLink ? \"\".concat(entry.deepLink).concat(entry.deepLink.endsWith(\":\") ? \"//\" : \"/\", \"wc?uri=\").concat(encodedUri) : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n  var focusUri = data.href.split(\"?\")[0];\n  setLocal(MOBILE_LINK_CHOICE_KEY, Object.assign(Object.assign({}, data), {\n    href: focusUri\n  }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n  return registry.filter(function (entry) {\n    return entry.name.toLowerCase().includes(name.toLowerCase());\n  })[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n  var links = registry;\n  if (whitelist) {\n    links = whitelist.map(function (name) {\n      return getMobileRegistryEntry(registry, name);\n    }).filter(Boolean);\n  }\n  return links;\n}","map":{"version":3,"sources":["../../src/mobile.ts"],"names":[],"mappings":"AAAA,SAIE,sBAAsB,QACjB,6BAA6B;AAEpC,SAAS,QAAQ,QAAQ,SAAS;AAElC,OAAM,SAAU,eAAe,CAAC,GAAW,EAAE,KAA2B,EAAA;EACtE,IAAM,UAAU,GAAW,kBAAkB,CAAC,GAAG,CAAC;EAClD,OAAO,KAAK,CAAC,aAAa,MAAA,MAAA,CACnB,KAAK,CAAC,aAAa,cAAA,MAAA,CAAW,UAAU,IAC3C,KAAK,CAAC,QAAQ,MAAA,MAAA,CACX,KAAK,CAAC,QAAQ,EAAA,MAAA,CAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,GAAG,aAAA,MAAA,CAAU,UAAU,IACjF,EAAE;AACR;AAEA,OAAM,SAAU,kBAAkB,CAAC,IAAqB,EAAA;EACtD,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACxC,QAAQ,CAAC,sBAAsB,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,EAAO,IAAI,CAAA,EAAA;IAAE,IAAI,EAAE;EAAQ,CAAA,CAAA,CAAG;AAC/D;AAEA,OAAM,SAAU,sBAAsB,CACpC,QAAyB,EACzB,IAAY,EAAA;EAEZ,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAC,KAA2B;IAAA,OACjD,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;EAAA,EACtD,CAAC,CAAC,CAAC;AACN;AAEA,OAAM,SAAU,qBAAqB,CAAC,QAAyB,EAAE,SAAoB,EAAA;EACnF,IAAI,KAAK,GAAG,QAAQ;EACpB,IAAI,SAAS,EAAE;IACb,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,UAAC,IAAY;MAAA,OAAK,sBAAsB,CAAC,QAAQ,EAAE,IAAI,CAAC;IAAA,EAAC,CAAC,MAAM,CAAC,OAAO,CAAC;EAChG;EACD,OAAO,KAAK;AACd","sourceRoot":"","sourcesContent":["import { MOBILE_LINK_CHOICE_KEY, } from \"@walletconnect/legacy-types\";\nimport { setLocal } from \"./local\";\nexport function formatIOSMobile(uri, entry) {\n    const encodedUri = encodeURIComponent(uri);\n    return entry.universalLink\n        ? `${entry.universalLink}/wc?uri=${encodedUri}`\n        : entry.deepLink\n            ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}`\n            : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n    const focusUri = data.href.split(\"?\")[0];\n    setLocal(MOBILE_LINK_CHOICE_KEY, Object.assign(Object.assign({}, data), { href: focusUri }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n    return registry.filter((entry) => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n    let links = registry;\n    if (whitelist) {\n        links = whitelist.map((name) => getMobileRegistryEntry(registry, name)).filter(Boolean);\n    }\n    return links;\n}\n//# sourceMappingURL=mobile.js.map"]},"metadata":{},"sourceType":"module"}